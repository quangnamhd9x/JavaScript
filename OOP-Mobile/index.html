<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Mobile</title>
    <script src="Mobile.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="mobile">
    <h3 id="iphone-name">Name</h3>
    <h4 id="iphone-battery">100</h4>
    <textarea placeholder="Outbox" id="iphone-outbox"></textarea>
    <textarea placeholder="Inbox" id="iphone-inbox"></textarea>
    <input oninput="writeMsg(iphone,this.value)" placeholder="write message here..." id="iphone-msg">
    <button onclick="sendMsg(iphone,nokia)">Send</button>
</div>

<div class="mobile" id="nokia">
    <h3 id="nokia-name">Name</h3>
    <h4 id="nokia-battery">100</h4>
    <textarea placeholder="Outbox" id="nokia-outbox"></textarea>
    <textarea placeholder="Inbox" id="nokia-inbox"></textarea>
    <input oninput="writeMsg(nokia,this.value)" placeholder="write message here..." id="nokia-msg">
    <button onclick="sendMsg(nokia,iphone)">Send</button>
</div>
<script>
    let iphone = new Mobile("iphone");
    let nokia = new Mobile("nokia");

    function main(){
        display(iphone);
        display(nokia);
    }

    function writeMsg(mobile,value) {
        mobile.writeMsg(value);
    }

    function sendMsg(mobile1,mobile2) {
        mobile1.sendMsg(mobile2);
        display(mobile1);
        display(mobile2);
    }

    function display(mobile) {
        document.getElementById(`${mobile.name}-inbox`).innerHTML = mobile.inbox;
        document.getElementById(`${mobile.name}-outbox`).innerHTML = mobile.outbox;
        document.getElementById(`${mobile.name}-battery`).innerHTML = mobile.battery;
        document.getElementById(`${mobile.name}-msg`).value = '';
        document.getElementById(`${mobile.name}-name`).innerHTML = mobile.name;
    }

    main();
</script>
</body>
</html>
